<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><style type="text/css">body,td,div,span,p{font-family:arial,sans-serif;}a {color:#0000cc;}a:visited {color:#551a8b;}a:active {color:#ff0000;}body{margin: 0px;padding: 0px;background-color:white;}</style><script>window['__isgadget']=true;</script><script src="ifr_data/corecore.js"></script><script>gadgets.rpctx=gadgets.rpctx||{};
if(!gadgets.rpctx.wpm){gadgets.rpctx.wpm=function(){var A;
return{getCode:function(){return"wpm"
},isParentVerifiable:function(){return true
},init:function(B,C){A=C;
var D=function(E){B(gadgets.json.parse(E.data))
};
if(typeof window.addEventListener!="undefined"){window.addEventListener("message",D,false)
}else{if(typeof window.attachEvent!="undefined"){window.attachEvent("onmessage",D)
}else{gadgets.warn("wpm init failure")
}}A("..",true);
return true
},setup:function(C,B){if(C===".."){gadgets.rpc.call(C,gadgets.rpc.ACK)
}return true
},call:function(C,G,F){var E=gadgets.rpc._getTargetWin(C);
var D=gadgets.rpc.getRelayUrl(C)||gadgets.util.getUrlParameters()["parent"];
var B=gadgets.rpc.getOrigin(D);
if(B){E.postMessage(gadgets.json.stringify(F),B)
}else{gadgets.error("No relay set (used as window.postMessage targetOrigin), cannot send cross-domain message")
}return true
}}
}()
};;
;
gadgets.rpctx=gadgets.rpctx||{};
if(!gadgets.rpctx.frameElement){gadgets.rpctx.frameElement=function(){var E="__g2c_rpc";
var B="__c2g_rpc";
var D;
var C;
function A(G,K,J){try{if(K!==".."){var F=window.frameElement;
if(typeof F[E]==="function"){if(typeof F[E][B]!=="function"){F[E][B]=function(L){D(gadgets.json.parse(L))
}
}F[E](gadgets.json.stringify(J));
return 
}}else{var I=document.getElementById(G);
if(typeof I[E]==="function"&&typeof I[E][B]==="function"){I[E][B](gadgets.json.stringify(J));
return 
}}}catch(H){}return true
}return{getCode:function(){return"fe"
},isParentVerifiable:function(){return false
},init:function(F,G){D=F;
C=G;
return true
},setup:function(J,F){if(J!==".."){try{var I=document.getElementById(J);
I[E]=function(K){D(gadgets.json.parse(K))
}
}catch(H){return false
}}if(J===".."){C("..",true);
var G=function(){window.setTimeout(function(){gadgets.rpc.call(J,gadgets.rpc.ACK)
},500)
};
gadgets.util.registerOnLoadHandler(G)
}return true
},call:function(F,H,G){A(F,H,G)
}}
}()
};;
;
gadgets.rpctx=gadgets.rpctx||{};
if(!gadgets.rpctx.nix){gadgets.rpctx.nix=function(){var C="GRPC____NIXVBS_wrapper";
var D="GRPC____NIXVBS_get_wrapper";
var F="GRPC____NIXVBS_handle_message";
var B="GRPC____NIXVBS_create_channel";
var A=10;
var J=500;
var I={};
var H;
var G=0;
function E(){var L=I[".."];
if(L){return 
}if(++G>A){gadgets.warn("Nix transport setup failed, falling back...");
H("..",false);
return 
}if(!L&&window.opener&&"GetAuthToken" in window.opener){L=window.opener;
if(L.GetAuthToken()==gadgets.rpc.getAuthToken("..")){var K=gadgets.rpc.getAuthToken("..");
L.CreateChannel(window[D]("..",K),K);
I[".."]=L;
window.opener=null;
H("..",true);
return 
}}window.setTimeout(function(){E()
},J)
}return{getCode:function(){return"nix"
},isParentVerifiable:function(){return false
},init:function(L,M){H=M;
if(typeof window[D]!=="unknown"){window[F]=function(O){window.setTimeout(function(){L(gadgets.json.parse(O))
},0)
};
window[B]=function(O,Q,P){if(gadgets.rpc.getAuthToken(O)===P){I[O]=Q;
H(O,true)
}};
var K="Class "+C+"\n Private m_Intended\nPrivate m_Auth\nPublic Sub SetIntendedName(name)\n If isEmpty(m_Intended) Then\nm_Intended = name\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\n If isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Sub SendMessage(data)\n "+F+"(data)\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub CreateChannel(channel, auth)\n Call "+B+"(m_Intended, channel, auth)\nEnd Sub\nEnd Class\nFunction "+D+"(name, auth)\nDim wrap\nSet wrap = New "+C+"\nwrap.SetIntendedName name\nwrap.SetAuth auth\nSet "+D+" = wrap\nEnd Function";
try{window.execScript(K,"vbscript")
}catch(N){return false
}}return true
},setup:function(O,K){if(O===".."){E();
return true
}try{var M=document.getElementById(O);
var N=window[D](O,K);
M.contentWindow.opener=N
}catch(L){return false
}return true
},call:function(K,N,M){try{if(I[K]){I[K].SendMessage(gadgets.json.stringify(M))
}}catch(L){return false
}return true
}}
}()
};;
;
gadgets.rpctx=gadgets.rpctx||{};
if(!gadgets.rpctx.rmr){gadgets.rpctx.rmr=function(){var G=500;
var E=10;
var H={};
var B;
var I;
function K(P,N,O,M){var Q=function(){document.body.appendChild(P);
P.src="about:blank";
if(M){P.onload=function(){L(M)
}
}P.src=N+"#"+O
};
if(document.body){Q()
}else{gadgets.util.registerOnLoadHandler(function(){Q()
})
}}function C(O){if(typeof H[O]==="object"){return 
}var P=document.createElement("iframe");
var M=P.style;
M.position="absolute";
M.top="0px";
M.border="0";
M.opacity="0";
M.width="10px";
M.height="1px";
P.id="rmrtransport-"+O;
P.name=P.id;
var N=gadgets.rpc.getRelayUrl(O);
if(!N){N=gadgets.rpc.getOrigin(gadgets.util.getUrlParameters()["parent"])+"/robots.txt"
}H[O]={frame:P,receiveWindow:null,relayUri:N,searchCounter:0,width:10,waiting:true,queue:[],sendId:0,recvId:0};
if(O!==".."){K(P,N,A(O))
}D(O)
}function D(O){var Q=null;
H[O].searchCounter++;
try{var N=gadgets.rpc._getTargetWin(O);
if(O===".."){Q=N.frames["rmrtransport-"+gadgets.rpc.RPC_ID]
}else{Q=N.frames["rmrtransport-.."]
}}catch(P){}var M=false;
if(Q){M=F(O,Q)
}if(!M){if(H[O].searchCounter>E){return 
}window.setTimeout(function(){D(O)
},G)
}}function J(N,P,T,S){var O=null;
if(T!==".."){O=H[".."]
}else{O=H[N]
}if(O){if(P!==gadgets.rpc.ACK){O.queue.push(S)
}if(O.waiting||(O.queue.length===0&&!(P===gadgets.rpc.ACK&&S&&S.ackAlone===true))){return true
}if(O.queue.length>0){O.waiting=true
}var M=O.relayUri+"#"+A(N);
try{O.frame.contentWindow.location=M;
var Q=O.width==10?20:10;
O.frame.style.width=Q+"px";
O.width=Q
}catch(R){return false
}}return true
}function A(N){var O=H[N];
var M={id:O.sendId};
if(O){M.d=Array.prototype.slice.call(O.queue,0);
M.d.push({s:gadgets.rpc.ACK,id:O.recvId})
}return gadgets.json.stringify(M)
}function L(X){var U=H[X];
var Q=U.receiveWindow.location.hash.substring(1);
var Y=gadgets.json.parse(decodeURIComponent(Q))||{};
var N=Y.d||[];
var O=false;
var T=false;
var V=0;
var M=(U.recvId-Y.id);
for(var P=0;
P<N.length;
++P){var S=N[P];
if(S.s===gadgets.rpc.ACK){I(X,true);
if(U.waiting){T=true
}U.waiting=false;
var R=Math.max(0,S.id-U.sendId);
U.queue.splice(0,R);
U.sendId=Math.max(U.sendId,S.id||0);
continue
}O=true;
if(++V<=M){continue
}++U.recvId;
B(S)
}if(O||(T&&U.queue.length>0)){var W=(X==="..")?gadgets.rpc.RPC_ID:"..";
J(X,gadgets.rpc.ACK,W,{ackAlone:O})
}}function F(P,S){var O=H[P];
try{var N=false;
N="document" in S;
if(!N){return false
}N=typeof S.document=="object";
if(!N){return false
}var R=S.location.href;
if(R==="about:blank"){return false
}}catch(M){return false
}O.receiveWindow=S;
function Q(){L(P)
}if(typeof S.attachEvent==="undefined"){S.onresize=Q
}else{S.attachEvent("onresize",Q)
}if(P===".."){K(O.frame,O.relayUri,A(P),P)
}else{L(P)
}return true
}return{getCode:function(){return"rmr"
},isParentVerifiable:function(){return true
},init:function(M,N){B=M;
I=N;
return true
},setup:function(O,M){try{C(O)
}catch(N){gadgets.warn("Caught exception setting up RMR: "+N);
return false
}return true
},call:function(M,O,N){return J(M,N.s,O,N)
}}
}()
};;
;
gadgets.rpctx=gadgets.rpctx||{};
if(!gadgets.rpctx.ifpc){gadgets.rpctx.ifpc=function(){var E=[];
var D=0;
var C;
function B(H){var F=[];
for(var I=0,G=H.length;
I<G;
++I){F.push(encodeURIComponent(gadgets.json.stringify(H[I])))
}return F.join("&")
}function A(I){var G;
for(var F=E.length-1;
F>=0;
--F){var J=E[F];
try{if(J&&(J.recyclable||J.readyState==="complete")){J.parentNode.removeChild(J);
if(window.ActiveXObject){E[F]=J=null;
E.splice(F,1)
}else{J.recyclable=false;
G=J;
break
}}}catch(H){}}if(!G){G=document.createElement("iframe");
G.style.border=G.style.width=G.style.height="0px";
G.style.visibility="hidden";
G.style.position="absolute";
G.onload=function(){this.recyclable=true
};
E.push(G)
}G.src=I;
window.setTimeout(function(){document.body.appendChild(G)
},0)
}return{getCode:function(){return"ifpc"
},isParentVerifiable:function(){return true
},init:function(F,G){C=G;
C("..",true);
return true
},setup:function(G,F){C(G,true);
return true
},call:function(F,K,I){var J=gadgets.rpc.getRelayUrl(F);
++D;
if(!J){gadgets.warn("No relay file assigned for IFPC");
return 
}var H=null;
if(I.l){var G=I.a;
H=[J,"#",B([K,D,1,0,B([K,I.s,"","",K].concat(G))])].join("")
}else{H=[J,"#",F,"&",K,"@",D,"&1&0&",encodeURIComponent(gadgets.json.stringify(I))].join("")
}A(H);
return true
}}
}()
};;
if(!gadgets.rpc){gadgets.rpc=function(){var T="__cb";
var S="";
var G="__ack";
var R=500;
var J=10;
var B={};
var C={};
var X={};
var K={};
var N=0;
var i={};
var W={};
var D={};
var f={};
var L={};
var V={};
var M=(window.top!==window.self);
var O=window.name;
var g=(function(){function j(k){return function(){gadgets.log("gadgets.rpc."+k+"("+gadgets.json.stringify(Array.prototype.slice.call(arguments))+"): call ignored. [caller: "+document.location+", isChild: "+M+"]")
}
}return{getCode:function(){return"noop"
},isParentVerifiable:function(){return true
},init:j("init"),setup:j("setup"),call:j("call")}
})();
if(gadgets.util){f=gadgets.util.getUrlParameters()
}var a=(f.rpc_earlyq==="1");
function A(){return typeof window.postMessage==="function"?gadgets.rpctx.wpm:typeof window.postMessage==="object"?gadgets.rpctx.wpm:window.ActiveXObject?gadgets.rpctx.nix:navigator.userAgent.indexOf("WebKit")>0?gadgets.rpctx.rmr:navigator.product==="Gecko"?gadgets.rpctx.frameElement:gadgets.rpctx.ifpc
}function b(o,m){var k=c;
if(!m){k=g
}L[o]=k;
var j=V[o]||[];
for(var l=0;
l<j.length;
++l){var n=j[l];
n.t=Y(o);
k.call(o,n.f,n)
}V[o]=[]
}function U(k){if(k&&typeof k.s==="string"&&typeof k.f==="string"&&k.a instanceof Array){if(K[k.f]){if(K[k.f]!==k.t){throw new Error("Invalid auth token. "+K[k.f]+" vs "+k.t)
}}if(k.s===G){window.setTimeout(function(){b(k.f,true)
},0);
return 
}if(k.c){k.callback=function(l){gadgets.rpc.call(k.f,T,null,k.c,l)
}
}var j=(B[k.s]||B[S]).apply(k,k.a);
if(k.c&&typeof j!=="undefined"){gadgets.rpc.call(k.f,T,null,k.c,j)
}}}function e(l){if(!l){return""
}l=l.toLowerCase();
if(l.indexOf("//")==0){l=window.location.protocol+l
}if(l.indexOf("://")==-1){l=window.location.protocol+"//"+l
}var m=l.substring(l.indexOf("://")+3);
var j=m.indexOf("/");
if(j!=-1){m=m.substring(0,j)
}var o=l.substring(0,l.indexOf("://"));
var n="";
var p=m.indexOf(":");
if(p!=-1){var k=m.substring(p+1);
m=m.substring(0,p);
if((o==="http"&&k!=="80")||(o==="https"&&k!=="443")){n=":"+k
}}return o+"://"+m+n
}function I(k){if(typeof k==="undefined"||k===".."){return window.parent
}k=String(k);
var j=window.frames[k];
if(j){return j
}j=document.getElementById(k);
if(j&&j.contentWindow){return j.contentWindow
}return null
}var c=A();
B[S]=function(){gadgets.warn("Unknown RPC service: "+this.s)
};
B[T]=function(k,j){var l=i[k];
if(l){delete i[k];
l(j)
}};
function P(l,j){if(W[l]===true){return 
}if(typeof W[l]==="undefined"){W[l]=0
}var k=document.getElementById(l);
if(l===".."||k!=null){if(c.setup(l,j)===true){W[l]=true;
return 
}}if(W[l]!==true&&W[l]++<J){window.setTimeout(function(){P(l,j)
},R)
}else{L[l]=g;
W[l]=true
}}function F(k,n){if(typeof D[k]==="undefined"){D[k]=false;
var m=gadgets.rpc.getRelayUrl(k);
if(e(m)!==e(window.location.href)){return false
}var l=I(k);
try{D[k]=l.gadgets.rpc.receiveSameDomain
}catch(j){gadgets.error("Same domain call failed: parent= incorrectly set.")
}}if(typeof D[k]==="function"){D[k](n);
return true
}return false
}function H(k,j,l){C[k]=j;
X[k]=!!l
}function Y(j){return K[j]
}function E(j,k){k=k||"";
K[j]=String(k);
P(j,k)
}function Q(j){function l(o){var q=o?o.rpc:{};
var n=q.parentRelayUrl;
if(n.substring(0,7)!=="http://"&&n.substring(0,8)!=="https://"&&n.substring(0,2)!=="//"){if(typeof f.parent==="string"&&f.parent!==""){if(n.substring(0,1)!=="/"){var m=f.parent.lastIndexOf("/");
n=f.parent.substring(0,m+1)+n
}else{n=e(f.parent)+n
}}}var p=!!q.useLegacyProtocol;
H("..",n,p);
if(p){c=gadgets.rpctx.ifpc;
c.init(U,b)
}E("..",j)
}var k={parentRelayUrl:gadgets.config.NonEmptyStringValidator};
gadgets.config.register("rpc",k,l)
}function Z(l,j){var k=j||f.parent;
if(k){H("..",k);
E("..",l)
}}function d(j,n,p){if(!gadgets.util){return 
}var m=document.getElementById(j);
if(!m){throw new Error("Cannot set up gadgets.rpc receiver with ID: "+j+", element not found.")
}var k=n||m.src;
H(j,k);
var o=gadgets.util.getUrlParameters(m.src);
var l=p||o.rpctoken;
E(j,l)
}function h(j,l,m){if(j===".."){var k=m||f.rpctoken||f.ifpctok||"";
if(window.__isgadget===true){Q(k)
}else{Z(k,l)
}}else{d(j,l,m)
}}return{register:function(k,j){if(k===T||k===G){throw new Error("Cannot overwrite callback/ack service")
}if(k===S){throw new Error("Cannot overwrite default service: use registerDefault")
}B[k]=j
},unregister:function(j){if(j===T||j===G){throw new Error("Cannot delete callback/ack service")
}if(j===S){throw new Error("Cannot delete default service: use unregisterDefault")
}delete B[j]
},registerDefault:function(j){B[S]=j
},unregisterDefault:function(){delete B[S]
},forceParentVerifiable:function(){if(!c.isParentVerifiable()){c=gadgets.rpctx.ifpc
}},call:function(j,k,p,n){j=j||"..";
var o="..";
if(j===".."){o=O
}++N;
if(p){i[N]=p
}var m={s:k,f:o,c:p?N:0,a:Array.prototype.slice.call(arguments,3),t:K[j],l:X[j]};
if(j!==".."&&!document.getElementById(j)){gadgets.log("WARNING: attempted send to nonexistent frame: "+j);
return 
}if(F(j,m)){return 
}var l=L[j]?L[j]:c;
if(!l){if(!V[j]){V[j]=[m]
}else{V[j].push(m)
}return 
}if(X[j]){l=gadgets.rpctx.ifpc
}if(l.call(j,o,m)===false){L[j]=g;
c.call(j,o,m)
}},getRelayUrl:function(k){var j=C[k];
if(j&&j.indexOf("//")==0){j=document.location.protocol+j
}return j
},setRelayUrl:H,setAuthToken:E,setupReceiver:h,getAuthToken:Y,getRelayChannel:function(){return c.getCode()
},receive:function(j){if(j.length>4){U(gadgets.json.parse(decodeURIComponent(j[j.length-1])))
}},receiveSameDomain:function(j){j.a=Array.prototype.slice.call(j.a);
window.setTimeout(function(){U(j)
},0)
},getOrigin:e,init:function(){if(c.init(U,b)===false){c=g
}if(M){h("..")
}},_getTargetWin:I,ACK:G,RPC_ID:O}
}();
gadgets.rpc.init()
};;
gadgets.Prefs.prototype.set=function(D,E){var G=false;
if(arguments.length>2){var F={};
for(var C=0,B=arguments.length;
C<B;
C+=2){F[arguments[C]]=arguments[C+1]
}G=gadgets.Prefs.setInternal_(F)
}else{G=gadgets.Prefs.setInternal_(D,E)
}if(!G){return 
}var A=[null,"set_pref",null,gadgets.util.getUrlParameters().ifpctok||gadgets.util.getUrlParameters().rpctoken||0].concat(Array.prototype.slice.call(arguments));
gadgets.rpc.call.apply(gadgets.rpc,A)
};
gadgets.Prefs.prototype.setArray=function(C,D){for(var B=0,A=D.length;
B<A;
++B){if(typeof D[B]!=="number"){D[B]=D[B].replace(/\|/g,"%7C")
}}this.set(C,D.join("|"))
};;
gadgets.window=gadgets.window||{};
gadgets.window.setTitle=function(A){gadgets.rpc.call(null,"set_title",null,A)
};
var _IG_SetTitle=gadgets.window.setTitle;;
gadgets.config.init({"rpc":{"parentRelayUrl":"/rpc_relay.html"},"core.util":{"setprefs":{},"core":{},"settitle":{}},"core.io":{"proxyUrl":"//www-open-opensocial.googleusercontent.com/gadgets/proxy/refresh=%refresh%&container=%container%%rewriteMime%&gadget=%gadget%/%rawurl%","jsonProxyUrl":"//%host%/gadgets/makeRequest"}});
</script><script>gadgets.Prefs.setMessages_({});gadgets.Prefs.setDefaultPrefs_({"feedID":"504"});gadgets.io.preloaded_=[];</script><style type="text/css">
     body
     {
     font-size: 0.8em;
     }
     .loadingLabel 
     {
       font-style: italic;
       text-align: center;
       color: #aaaaaa;
     }
     a:link, a:visited
     {
		color:#F06;
		text-decoration:none;
		font-weight: bold;
	 }

     a:active, a:hover
     {
		color:#000;
	 }

	 #main
	 {
	 width: 100%;
	 text-align: center;
	 overflow: hidden;
	 }
	 
	 .title
	 {
	 }
	 
     #feeds 
     {
     text-align: left;
     margin-left: auto;
     margin-right: auto;
     }
     
     #pachube_logo 
     {
     text-align: center;
     }
     
     #pachube_logo a
     {
     font-weight: normal;
     }
     
     .info
     {
     font-size: 0.7em;
     }
     
     .live {
	color:#00cb03;
	}

	.frozen {
	color:#00a4cb;
	}

	hr {
	padding-top: 0px;
	padding-bottom: 0px;
	}
     
  </style>
  
  
  <style type="text/css">@media print{.gmnoprint{display:none}}@media screen{.gmnoscreen{display:none}}</style><script src="ifr_data/mod_dragmod_ctrapimod_scrwhmod_kbrd.js" charset="UTF-8" type="text/javascript"></script></head><body
 dir="ltr"><script src="ifr_data/maps.js" type="text/javascript"></script><script src="ifr_data/main.js" type="text/javascript"></script><script type="text/javascript">

	function setVariables()
	{
	 prefs = new _IG_Prefs(0);
     feedID = parseInt(prefs.getString("feedID"));
     graphWidth = getWidth()-20;
     pachube_logo_width= (graphWidth < 200)? graphWidth : 200;
     pachube_logo_html = '<a href="http://www.pachube.com/" target="_blank"><img src="http://apps.pachube.com/google_gadget/powered_by_pachube.png" width="'+pachube_logo_width+'" border="0"></a>';
     container = _gel("feedContainer");
     preferencesForm = '';//'<form name="pachube_form" onSubmit="setFeed(); return false;" action="#">Please enter feed ID: <input type="text" name="feed_id" size="6"><br /><input type="submit" value="Save feed ID preferences"></form>';
     message = "";
	};


	function getWidth() { 
        if(self.innerHeight) { 
                return self.innerWidth; 
        } 
        else if(document.documentElement && 
document.documentElement.clientHeight) { 
                return document.documentElement.clientWidth; 
        } 
        else if(document.body) { 
                return document.body.clientWidth; 
        } 
        return 0; 

} 


  function fillGlobals()
  {
     if (feedID != parseInt(feedID).toString()){
     	message = '<div id="feeds"><div id="pachube_logo"><br />Welcome to the <a href="http://www.pachube.com/" target="_blank">Pachube.com</a> Feeds Gadget.<br /><br />'+preferencesForm+'<br />'+pachube_logo_html+'</div></div>';
     } else 
     {
     
     feedURL = 'http://www.pachube.com/feeds/'+feedID;
     feedJSON = feedURL + '.json';     
     feedGraphPrefix = '<a href="'+feedURL+'" target="_blank"><img src="'+feedURL;
     feedGraphSuffix = '/history.png?w='+graphWidth+'&h=70&s=2&g=true" width="'+graphWidth+'" height="70" border="0" alt="powered by Pachube.com"></a>';
     message = '<div class="loadingLabel"><br /><br />'+pachube_logo_html+'<br /><br />now loading..</div>';
     _IG_SetTitle('Pachube.com feed: ' + feedID);
  	 }
  };

	function setFeed(){
	feedID = document.pachube_form.feed_id.value;
	if (feedID == parseInt(feedID)){
	prefs.set("feedID", feedID);
    fillGlobals();
    container.innerHTML = message;
    makeJSONRequest(feedJSON);
    } else {
    	alert("Pachube.com feed ID must be a number");
    }
	};

  function init() 
  {
  	setVariables();
    fillGlobals();
    container.innerHTML = message;
    makeJSONRequest(feedJSON);
  };
  
	function makeJSONRequest(feedJSON) {  
		_IG_FetchContent(feedJSON, response, { refreshInterval: (60 * 5) });
    };

    function response(obj) { 
      var jsondata = eval('(' + obj + ')');
      html = "";

      if (jsondata['title'] != null){
      
      title = shortenString(jsondata['title'], 25);
      
      
      
      description =  (jsondata['description'] != null)? jsondata['description'] : "";
      datastreams = jsondata['datastreams'];
      numberOfDatastreams = datastreams.length;
      state = jsondata['state_converted'];
      updated =  (jsondata['retrieved_at'] != null) ? jsondata['retrieved_at'] : "never";
      owner = jsondata['login'];
      
      html += '<a href="http://www.pachube.com/" target="_blank"><img src="http://apps.pachube.com/google_gadget/pachube_tiny.png" width="50" height="17" border="" alt="powered by Pachube.com"></a><br />';
      html += '<span class="title"><a href="' + feedURL + '" "target=\'_blank\'">' + title + '</a></span><br />';
	  html += '<span class="info">Updated: ' + updated + ' (<span class="'+state+'">'+state+'</span>)</span><hr size="1" noshade>';
	
      for ( var i in datastreams )
		{
			datastream = datastreams[i];
			d_id = datastream['id'];
			d_unit = datastream['unit'];
			d_value = datastream['values'][0]['value'];
			
			
			d_taglist = (datastream['tags'] == null) ? "" : shortenString(datastream['tags'].join(','),20);
						
			if (d_unit != null){
			d_symbol = (d_unit['symbol'] == null) ? "" : d_unit['symbol'];
			} else {
			d_symbol = "";
			}
			max_length_of_string = 24;
			
			tag_value_unit_length = (Math.max((d_taglist + d_value + d_symbol + '').length - max_length_of_string),0);
			
			d_taglist = shortenString(d_taglist,max_length_of_string - (tag_value_unit_length + 8));
			
			
			html += '<span style="float: left"><b>'+d_id+' - ' + d_taglist + '</b></span>';
			html += '<span style="float: right"><b>'+d_value+''+d_symbol+'</b></span>';
			
			if ((d_value == parseInt(d_value)) || (d_value == parseFloat(d_value))) {
				html += '<br />'+feedGraphPrefix+'/datastreams/'+i+feedGraphSuffix;
				}
				else 
				{
				html += '<br />';
				}
			html += '<hr size="1" noshade>';
		}
       
       html += 'Published by: <a href="http://www.pachube.com/users/'+owner+'" target="_blank">' + owner + '</a><br />'
       html += '<i>' + description + '</i>';
       
		_IG_FetchContent('http://www.pachube.com/feeds.json', response_map, { refreshInterval: (60 * 5) });      
	} else {
		container.innerHTML = '<div id="feeds"><div id="pachube_logo"><br /><br />There was a problem loading feed '+feedID+'.<br />Please check the feed ID exists.<br /><br />'+preferencesForm+'<br />'+pachube_logo_html+'</div></div>';	
	}

     };
     
    function shortenString(temp_value, len){
    
	if (temp_value.length > len){
		temp_value = temp_value.substring(0,(len-3)) + "[..]";
	}
		return temp_value;
	};

     
     function response_map(obj){     
     	var jsondata = eval('(' + obj + ')');
     	
     	results = jsondata['results'];
     	var my_feed;     	
        for ( var i in results ){         
         	if (results[i]['id'] == feedID) my_feed = results[i];     		    
        }
 	 	
 	 	if (typeof(my_feed) != "undefined"){
			if ((typeof(my_feed['lat']) != "undefined") && (typeof(my_feed['lng']) != "undefined"))
			{       
			
       			container.innerHTML = '<div id="feeds">'+html+'<div id="pachube_map" style="width: '+graphWidth+'px; height: 140px; border: solid 1px #999;"></div><div id="pachube_logo">'+pachube_logo_html+preferencesForm+'</div></div>';
				
			
				var map = new GMap2(document.getElementById("pachube_map"));
				lat = parseFloat(my_feed['lat']);
				lon = parseFloat(my_feed['lng']);
				var point = new GLatLng(lat, lon);
				map.setCenter((point),12);
				map.setUIToDefault();
				map.addOverlay(new GMarker(point));	
			} else {
				container.innerHTML = '<div id="feeds">'+html+'<div id="pachube_logo">'+pachube_logo_html+preferencesForm+'</div></div>';

			
			}
		}
		else {
		
			container.innerHTML = '<div id="feeds">'+html+'<div id="pachube_logo">'+pachube_logo_html+preferencesForm+'</div></div>';

			//document.getElementById("pachube_map").style.height = 0;
		}
		
		feedsContainer = document.getElementById('feeds');
        feedsContainer.style.width=graphWidth+"px"; 
		
     };
   // Set onload event handler to call init()
   _IG_RegisterOnloadHandler(init);
 </script><div id="main">
  <div id="feedContainer"><div style="width: 150px;" id="feeds"><a 
href="http://www.pachube.com/" target="_blank"><img 
src="ifr_data/pachube_tiny.png" alt="powered by Pachube.com" border="" 
height="17" width="50"></a><br><span class="title"><a 
href="http://www.pachube.com/feeds/504" target="_blank">Pachube Office 
environ[..]</a></span><br><span class="info">Updated: 
2010-09-15T11:15:10Z (<span class="live">live</span>)</span><hr 
noshade="noshade" size="1"><span style="float: left;"><b>0 - humidity</b></span><span
 style="float: right;"><b>282</b></span><br><a 
href="http://www.pachube.com/feeds/504" target="_blank"><img 
src="ifr_data/history_002.png" alt="powered by Pachube.com" border="0" 
height="70" width="150"></a><hr noshade="noshade" size="1"><span 
style="float: left;"><b>1 - light level</b></span><span style="float: 
right;"><b>879</b></span><br><a href="http://www.pachube.com/feeds/504" 
target="_blank"><img src="ifr_data/history_004.png" alt="powered by 
Pachube.com" border="0" height="70" width="150"></a><hr 
noshade="noshade" size="1"><span style="float: left;"><b>2 - temperature</b></span><span
 style="float: right;"><b>294</b></span><br><a 
href="http://www.pachube.com/feeds/504" target="_blank"><img 
src="ifr_data/history_006.png" alt="powered by Pachube.com" border="0" 
height="70" width="150"></a><hr noshade="noshade" size="1"><span 
style="float: left;"><b>3 - comets</b></span><span style="float: right;"><b>0</b></span><br><a
 href="http://www.pachube.com/feeds/504" target="_blank"><img 
src="ifr_data/history_007.png" alt="powered by Pachube.com" border="0" 
height="70" width="150"></a><hr noshade="noshade" size="1"><span 
style="float: left;"><b>4 - ghosts</b></span><span style="float: right;"><b>0</b></span><br><a
 href="http://www.pachube.com/feeds/504" target="_blank"><img 
src="ifr_data/history.png" alt="powered by Pachube.com" border="0" 
height="70" width="150"></a><hr noshade="noshade" size="1"><span 
style="float: left;"><b>5 - dinner</b></span><span style="float: right;"><b>0</b></span><br><a
 href="http://www.pachube.com/feeds/504" target="_blank"><img 
src="ifr_data/history_003.png" alt="powered by Pachube.com" border="0" 
height="70" width="150"></a><hr noshade="noshade" size="1"><span 
style="float: left;"><b>6 - updates</b></span><span style="float: 
right;"><b>-23682</b></span><br><a 
href="http://www.pachube.com/feeds/504" target="_blank"><img 
src="ifr_data/history_005.png" alt="powered by Pachube.com" border="0" 
height="70" width="150"></a><hr noshade="noshade" size="1">Published by:
 <a href="http://www.pachube.com/users/hdr" target="_blank">hdr</a><br><i></i><div
 id="pachube_map" style="width: 150px; height: 140px; border: 1px solid 
rgb(153, 153, 153); position: relative; background-color: rgb(229, 227, 
223);"><div style="position: absolute; left: 0px; top: 0px; overflow: 
hidden; width: 100%; height: 100%;"><div style="position: absolute; 
left: 0px; top: 0px; z-index: 0; cursor: -moz-grab;"><div 
style="position: absolute; left: 0px; top: 0px; display: none;"><div 
style="position: absolute; left: 0px; top: 0px; z-index: 0;"><img 
src="ifr_data/transparent.png" style="position: absolute; left: 0px; 
top: 0px; width: 256px; height: 256px; -moz-user-select: none; border: 
0px none; padding: 0px; margin: 0px;"><img 
src="ifr_data/transparent.png" style="position: absolute; left: 0px; 
top: 0px; width: 256px; height: 256px; -moz-user-select: none; border: 
0px none; padding: 0px; margin: 0px;"><img 
src="ifr_data/transparent.png" style="position: absolute; left: 0px; 
top: 0px; width: 256px; height: 256px; -moz-user-select: none; border: 
0px none; padding: 0px; margin: 0px;"><img 
src="ifr_data/transparent.png" style="position: absolute; left: 0px; 
top: 0px; width: 256px; height: 256px; -moz-user-select: none; border: 
0px none; padding: 0px; margin: 0px;"><img 
src="ifr_data/transparent.png" style="position: absolute; left: 0px; 
top: 0px; width: 256px; height: 256px; -moz-user-select: none; border: 
0px none; padding: 0px; margin: 0px;"><img 
src="ifr_data/transparent.png" style="position: absolute; left: 0px; 
top: 0px; width: 256px; height: 256px; -moz-user-select: none; border: 
0px none; padding: 0px; margin: 0px;"><img 
src="ifr_data/transparent.png" style="position: absolute; left: 0px; 
top: 0px; width: 256px; height: 256px; -moz-user-select: none; border: 
0px none; padding: 0px; margin: 0px;"><img 
src="ifr_data/transparent.png" style="position: absolute; left: 0px; 
top: 0px; width: 256px; height: 256px; -moz-user-select: none; border: 
0px none; padding: 0px; margin: 0px;"><img 
src="ifr_data/transparent.png" style="position: absolute; left: 0px; 
top: 0px; width: 256px; height: 256px; -moz-user-select: none; border: 
0px none; padding: 0px; margin: 0px;"></div></div><div style="position: 
absolute; left: 0px; top: 0px;"><div style="position: absolute; left: 
0px; top: 0px; z-index: 0;"><img 
src="ifr_data/lyrsm132hlfrsrcapix2046y1361z12sGal.png" style="position: 
absolute; left: -201px; top: -116px; width: 256px; height: 256px; 
-moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;"><img
 src="ifr_data/lyrsm132hlfrsrcapix2046y1362z12sGali.png" 
style="position: absolute; left: -201px; top: 140px; width: 256px; 
height: 256px; -moz-user-select: none; border: 0px none; padding: 0px; 
margin: 0px;"><img 
src="ifr_data/lyrsm132hlfrsrcapix2046y1363z12sGalil.png" 
style="position: absolute; left: -201px; top: 396px; width: 256px; 
height: 256px; -moz-user-select: none; border: 0px none; padding: 0px; 
margin: 0px;"><img 
src="ifr_data/lyrsm132hlfrsrcapix2047y1361z12sGalile.png" 
style="position: absolute; left: 55px; top: -116px; width: 256px; 
height: 256px; -moz-user-select: none; border: 0px none; padding: 0px; 
margin: 0px;"><img 
src="ifr_data/lyrsm132hlfrsrcapix2047y1362z12sGalileo.png" 
style="position: absolute; left: 55px; top: 140px; width: 256px; height:
 256px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 
0px;"><img src="ifr_data/lyrsm132hlfrsrcapix2047y1363z12s.png" 
style="position: absolute; left: 55px; top: 396px; width: 256px; height:
 256px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 
0px;"><img src="ifr_data/lyrsm132hlfrsrcapix2048y1361z12sG.png" 
style="position: absolute; left: 311px; top: -116px; width: 256px; 
height: 256px; -moz-user-select: none; border: 0px none; padding: 0px; 
margin: 0px;"><img src="ifr_data/lyrsm132hlfrsrcapix2048y1362z12sGa.png"
 style="position: absolute; left: 311px; top: 140px; width: 256px; 
height: 256px; -moz-user-select: none; border: 0px none; padding: 0px; 
margin: 0px;"><img 
src="ifr_data/lyrsm132hlfrsrcapix2048y1363z12sGal.png" style="position: 
absolute; left: 311px; top: 396px; width: 256px; height: 256px; 
-moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;"></div></div><div
 style="position: absolute; left: 0px; top: 0px; z-index: 100;"></div><div
 style="position: absolute; left: 0px; top: 0px; z-index: 101;"></div><div
 style="position: absolute; left: 0px; top: 0px; z-index: 102;"><img 
class="gmnoprint" src="ifr_data/shadow50.png" style="position: absolute;
 left: 67px; top: 37px; width: 37px; height: 34px; -moz-user-select: 
none; border: 0px none; padding: 0px; margin: 0px; z-index: -164875328;"></div><div
 style="position: absolute; left: 0px; top: 0px; z-index: 103;"></div><div
 style="position: absolute; left: 0px; top: 0px; z-index: 104; cursor: 
default;"><img src="ifr_data/marker.png" style="width: 20px; height: 
34px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 
0px; position: absolute; left: 67px; top: 37px; z-index: -164875328;"></div><div
 style="position: absolute; left: 0px; top: 0px; z-index: 105;"></div><div
 style="position: absolute; left: 0px; top: 0px; z-index: 106;"><img 
usemap="#gmimap0" class="gmnoprint" src="ifr_data/markerTransparent.png"
 style="position: absolute; left: 67px; top: 37px; width: 20px; height: 
34px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 
0px; z-index: -164875328;"><map id="gmimap0" name="gmimap0"><area 
id="mtgt_unnamed_0" href="javascript:void(0)" alt="" shape="poly" 
coords="9,0,6,1,4,2,2,4,0,8,0,12,1,14,2,16,5,19,7,23,8,26,9,30,9,34,11,34,11,30,12,26,13,24,14,21,16,18,18,16,20,12,20,8,18,4,16,2,15,1,13,0"
 log="miw"></map></div><div style="position: absolute; left: 0px; top: 
0px; z-index: 107; cursor: default;"></div></div></div><div 
id="logocontrol" style="-moz-user-select: none; z-index: 0; position: 
absolute; left: 2px; bottom: 2px;" class="gmnoprint"><a 
href="http://maps.google.com/maps?ll=51.523538,-0.080767&amp;spn=0.030333,0.052185&amp;z=12&amp;mapclient=jsapi&amp;oi=map_misc&amp;ct=api_logo"
 target="_blank" title="Cliquez ici pour afficher cette zone sur Google 
Maps"><img src="ifr_data/poweredby.png" style="width: 62px; height: 
30px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 
0px; cursor: pointer;"></a></div><div dir="ltr" style="-moz-user-select:
 none; z-index: 0; position: absolute; right: 3px; bottom: 2px; color: 
black; font-family: Arial,sans-serif; font-size: 11px; white-space: 
nowrap; text-align: right;"><span><a 
href="javascript:window.alert('Donn%C3%A9es%20cartographiques%20%C2%A92010Tele%20Atlas')"
 style="color: rgb(119, 119, 204);">Données cartographiques ©2010</a> - </span><a
 style="color: rgb(119, 119, 204);" class="gmnoprint terms-of-use-link" 
target="_blank" 
href="http://www.google.com/intl/fr_ALL/help/terms_maps.html">Conditions
 d'utilisation</a></div><div class="gmnoprint" style="width: 19px; 
height: 42px; -moz-user-select: none; z-index: 0; position: absolute; 
left: 10px; top: 10px;"><img src="ifr_data/szc3d.png" style="position: 
absolute; left: 0px; top: 0px; width: 19px; height: 42px; 
-moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;"><div
 title="Zoom avant" style="position: absolute; left: 0px; top: 0px; 
width: 19px; height: 21px; cursor: pointer;"></div><div title="Zoom 
arrière" style="position: absolute; left: 0px; top: 21px; width: 19px; 
height: 21px; cursor: pointer;"></div></div><div id="menumtctl" 
style="-moz-user-select: none; z-index: 0; position: absolute; right: 
7px; top: 7px; color: black; font-family: Arial,sans-serif; font-size: 
small; width: 83px; height: 18px;" class="gmnoprint"><div 
style="position: absolute; top: 0pt; right: 0pt;"><div 
id="menumtctl_main" title="Changer le style de carte" style="position: 
absolute; background-color: white; border: 1px solid black; text-align: 
center; width: 6.2em; right: 0px; cursor: pointer; white-space: nowrap; 
overflow: hidden;"><div style="font-size: 12px; border-width: 1px; 
border-style: solid; border-color: white rgb(176, 176, 176) rgb(176, 
176, 176) white;"><div style="text-align: left; padding-left: 6px; 
font-weight: bold;">Plan</div><div style="position: absolute; top: 2px; 
right: 6px; vertical-align: middle;"><img src="ifr_data/down-arrow.gif"></div></div></div></div><div
 title="Afficher un plan de ville" style="position: absolute; 
background-color: white; border: 1px solid black; text-align: center; 
width: 6.2em; right: 0px; cursor: pointer; visibility: hidden;"><div 
style="font-size: 12px;">Plan</div></div><div title="Afficher les images
 satellite" style="position: absolute; background-color: white; border: 
1px solid black; text-align: center; width: 6.2em; right: 0px; cursor: 
pointer; visibility: hidden;"><div style="font-size: 12px;">Satellite</div></div><div
 title="Afficher les images satellite avec le nom des rues" 
style="position: absolute; background-color: white; border: 1px solid 
black; text-align: center; width: 6.2em; right: 0px; cursor: pointer; 
visibility: hidden;"><div style="font-size: 12px;">Mixte</div></div><div
 title="Afficher le relief sur la carte" style="position: absolute; 
background-color: white; border: 1px solid black; text-align: center; 
width: 6.2em; right: 0px; cursor: pointer; visibility: hidden;"><div 
style="font-size: 12px;">Relief</div></div></div><div class="gmnoprint" 
id="pachube_map_magnifyingglass" style="width: 60px; height: 40px; 
visibility: hidden; border: medium none; -moz-user-select: none; 
z-index: 0;"><div style="width: 6px; height: 4px; line-height: 1px; 
font-size: 1px; border-width: 2px 0px 0px 2px; border-style: solid none 
none solid; border-color: rgb(255, 0, 0) -moz-use-text-color 
-moz-use-text-color rgb(255, 0, 0);"></div><div style="width: 6px; 
height: 4px; line-height: 1px; font-size: 1px; border-width: 2px 2px 0px
 0px; border-style: solid solid none none; border-color: rgb(255, 0, 0) 
rgb(255, 0, 0) -moz-use-text-color -moz-use-text-color;"></div><div 
style="width: 6px; height: 4px; line-height: 1px; font-size: 1px; 
border-width: 0px 2px 2px 0px; border-style: none solid solid none; 
border-color: -moz-use-text-color rgb(255, 0, 0) rgb(255, 0, 0) 
-moz-use-text-color;"></div><div style="width: 6px; height: 4px; 
line-height: 1px; font-size: 1px; border-width: 0px 0px 2px 2px; 
border-style: none none solid solid; border-color: -moz-use-text-color 
-moz-use-text-color rgb(255, 0, 0) rgb(255, 0, 0);"></div></div></div><div
 id="pachube_logo"><a href="http://www.pachube.com/" target="_blank"><img
 src="ifr_data/powered_by_pachube.png" border="0" width="150"></a></div></div></div>
  </div>

<script>gadgets.util.runOnLoadHandlers();</script></body></html>